<launch>
    <let name="urdf_path" 
          value="$(find-pkg-share my_robot_description)/urdf/my_robot.urdf.xacro" />

    <let name="gazebo_config_path"
         value="$(find-pkg-share my_robot_bringup)/config/gazebo_bridge.yaml" />

    <let name="rviz_config_path" 
          value="$(find-pkg-share my_robot_description)/rviz/urdf_config.rviz" />


    <!-- urdfi'i alip onu sisteme tanıtan ve robotun parcalarinin nerede oldugunu surekli hesaplayan node -->
      <node pkg="robot_state_publisher" exec="robot_state_publisher">
        <param name="robot_description"
                value="$(command 'xacro $(var urdf_path) ')" />
    </node>
    <!-- xacro karmasik xacro dosyalarini okuyup onlari gazebo veya rvizin anlayacagi dile cevirir -->
    <!-- command: bu komutu calistir ve sonucu buraya yapistir  -->


    <!-- başka bir paketin hazır launc dosyasını benim launch dosyama ekliyorum -->
    <include file="$(find-pkg-share ros_gz_sim)/launch/gz_sim.launch.py">
            <arg name="gz_args" value="$(find-pkg-share my_robot_bringup)/worlds/test_worlds.sdf -r" />

        <!-- <arg name="gz_args" value="empty.sdf -r" /> -->
    </include>

    <!-- node -> çalıştırma kısmı -->
    <node pkg="ros_gz_sim" exec="create" args="-topic robot_description" />

    <node pkg="ros_gz_bridge" exec="parameter_bridge">
        <param name="config_file" value="$(var gazebo_config_path)" />
    </node>

    <node pkg="rviz2" exec="rviz2" output="screen"
          args="-d $(var rviz_config_path)" />
</launch>

<!-- Değişkenler Hazırlanır: Dosya yolları (let) hafızaya alınır

Görünmez İşçi Başlar: robot_state_publisher robotu hesaplamaya başlar

Dünya Kurulur: Gazebo (gz.sim.launch.py) açılır

Robot Işınlanır: create düğümü robotu Gazebo'ya koyar

Görsel Arayüz Açılır: En son senin sorduğun bu rviz2 düğümü çalışır ve ekranına RViz penceresi gelir. -->

<!-- Parametreler (param) bir programın içindeki ayar düğmeleridir; Argümanlar (args) ise programı çalıştırırken yanına yazdığın ek komutlardır. -->

<!-- Launch Dosyası Sıralaması
1,<let>,Gerekli adresleri not defterine yazmak.
2,robot_state_publisher,Robotun mimari projesini herkese ilan etmek.
3,gz_sim (Gazebo),Tiyatronun sahnesini kurmak.
4,create,Oyuncuyu (robotu) sahneye ışınlamak.
5,bridge,Sahne ile kontrol odası arasındaki kabloları bağlamak.
6,rviz2,Seyirci koltuğuna oturup izlemek. -->